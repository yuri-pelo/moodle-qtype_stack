<!-- Ensures this only extends, not overrides, the theme. -->

<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="shortcut icon" href="../../../../content/logo_sm.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.1.5">
    
    
      
        <title>Multiple choice questions - STACK Docs</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.21aed14c.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.196e0c26.min.css">
        
          
          
          <meta name="theme-color" content="#ffffff">
        
      
    
    
    
      
        
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="../../../custom.css">
    
      <link rel="stylesheet" href="https://combinatronics.com/maths/moodle-qtype_stack/master/styles.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="white" data-md-color-accent="">
      
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#multiple-choice-questions" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../../.." title="STACK Docs" class="md-header-nav__button md-logo" style="width:1.7rem;" aria-label="STACK Docs">
      <!--Set the logo-->

  <img src="../../../content/logo_large.png" alt="logo" style="width:2rem;height:0.95rem;">

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
	<!--Make site title permament-->
    <div class="md-header-nav__title" data-md-component="header-title">
      <div class="md-header-nav__ellipsis md-ellipsis">
        STACK Docs
      </div>
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>


    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="STACK Docs" class="md-nav__button md-logo" aria-label="STACK Docs">
      <!--Set the logo-->

  <img src="../../../content/logo_large.png" alt="logo" style="width:2rem;height:0.95rem;">

    </a>
    STACK Docs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  


<!--Skip first level in the navigation bar, i.e. the "En" level-->

        
        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../../" title="STACK" class="md-nav__link">
      STACK
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-1-2" type="checkbox" id="nav-1-2">
    
    <label class="md-nav__link" for="nav-1-2">
      About
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="About" data-md-level="2">
      <label class="md-nav__title" for="nav-1-2">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        About
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../../About/" title="About the STACK Project" class="md-nav__link">
      About the STACK Project
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../../About/Community/" title="Community" class="md-nav__link">
      Community
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../../About/Credits/" title="Contributors to the STACK Project" class="md-nav__link">
      Contributors to the STACK Project
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../../About/Logo/" title="The mathematics of the STACK logo" class="md-nav__link">
      The mathematics of the STACK logo
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../../About/Publications/" title="Publications" class="md-nav__link">
      Publications
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../../About/The_philosophy_of_STACK/" title="Philosophy of STACK" class="md-nav__link">
      Philosophy of STACK
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          

  


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-1-3" type="checkbox" id="nav-1-3" checked>
    
    <label class="md-nav__link" for="nav-1-3">
      Authoring
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Authoring" data-md-level="2">
      <label class="md-nav__title" for="nav-1-3">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Authoring
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../" title="Authoring" class="md-nav__link">
      Authoring
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../Actuarial/" title="Notation used in actuarial work" class="md-nav__link">
      Notation used in actuarial work
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../Answer_tests/" title="Answer tests" class="md-nav__link">
      Answer tests
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../Answer_tests_numerical/" title="Numerical answer tests" class="md-nav__link">
      Numerical answer tests
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../Author_FAQ/" title="Author FAQ" class="md-nav__link">
      Author FAQ
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../Authoring_quick_start/" title="Authoring quick start 1: a minimal working question" class="md-nav__link">
      Authoring quick start 1: a minimal working question
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../Authoring_quick_start_2/" title="Authoring quick start 2: question variables" class="md-nav__link">
      Authoring quick start 2: question variables
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../Authoring_quick_start_3/" title="Authoring quick start 3: improving feedback" class="md-nav__link">
      Authoring quick start 3: improving feedback
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../Authoring_quick_start_4/" title="Authoring quick start 4: randomisation" class="md-nav__link">
      Authoring quick start 4: randomisation
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../Authoring_quick_start_5/" title="Authoring quick start 5: question tests" class="md-nav__link">
      Authoring quick start 5: question tests
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../Authoring_quick_start_6/" title="Authoring quick start 6: multipart questions" class="md-nav__link">
      Authoring quick start 6: multipart questions
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../Authoring_quick_start_7/" title="Authoring quick start 7: turning simplification off" class="md-nav__link">
      Authoring quick start 7: turning simplification off
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../Authoring_quick_start_8/" title="Authoring quick start 8: setting up a quiz" class="md-nav__link">
      Authoring quick start 8: setting up a quiz
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../CASText/" title="CASText" class="md-nav__link">
      CASText
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../Curve_sketching/" title="Curve sketching" class="md-nav__link">
      Curve sketching
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../Deploying/" title="Deploying" class="md-nav__link">
      Deploying
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../Equivalence_reasoning/" title="Getting started with equivalence reasoning" class="md-nav__link">
      Getting started with equivalence reasoning
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../Fact_sheets/" title="Hints" class="md-nav__link">
      Hints
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../Feedback/" title="Feedback" class="md-nav__link">
      Feedback
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../Fixing_broken_questions/" title="I have a misbehaving STACK question in a live Moodle quiz. What should I do?" class="md-nav__link">
      I have a misbehaving STACK question in a live Moodle quiz.  What should I do?
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../Future_proof/" title="Guidelines for ensuring that a question works in the future" class="md-nav__link">
      Guidelines for ensuring that a question works in the future
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../HELM/" title="HELM" class="md-nav__link">
      HELM
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../ImportExport/" title="Import and Export of STACK questions" class="md-nav__link">
      Import and Export of STACK questions
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../Inputs/" title="Inputs" class="md-nav__link">
      Inputs
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../JSXGraph/" title="JSXGraph" class="md-nav__link">
      JSXGraph
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../Languages/" title="Producing multilingual content" class="md-nav__link">
      Producing multilingual content
    </a>
  </li>

        
          
          
          

  


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Multiple choice questions
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 9h14V7H3v2m0 4h14v-2H3v2m0 4h14v-2H3v2m16 0h2v-2h-2v2m0-10v2h2V7h-2m0 6h2v-2h-2v2z"/></svg>
        </span>
      </label>
    
    <a href="./" title="Multiple choice questions" class="md-nav__link md-nav__link--active">
      Multiple choice questions
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#model-answer" class="md-nav__link">
    Model answer
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#internals" class="md-nav__link">
    Internals
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extra-options" class="md-nav__link">
    Extra options
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#randomly-shuffling-the-options" class="md-nav__link">
    Randomly shuffling the options
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#constructing-mcq-arrays-in-maxima" class="md-nav__link">
    Constructing MCQ arrays in Maxima
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mcq-helper-functions" class="md-nav__link">
    MCQ helper functions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dealing-with-strings-in-mcq" class="md-nav__link">
    Dealing with strings in MCQ
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dealing-with-plots-in-mcq" class="md-nav__link">
    Dealing with plots in MCQ
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dealing-with-external-images-in-mcq" class="md-nav__link">
    Dealing with external images in MCQ
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#writing-question-tests" class="md-nav__link">
    Writing question tests
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../Numerical_input/" title="Numerical input" class="md-nav__link">
      Numerical input
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../Options/" title="Options" class="md-nav__link">
      Options
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../Potential_response_trees/" title="Potential response trees" class="md-nav__link">
      Potential response trees
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../Proof/" title="Assessment of proof" class="md-nav__link">
      Assessment of proof
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../Question_bank/" title="How do I find the Moodle question bank?" class="md-nav__link">
      How do I find the Moodle question bank?
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../Question_blocks/" title="Question blocks" class="md-nav__link">
      Question blocks
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../Question_note/" title="Question note" class="md-nav__link">
      Question note
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../Reporting/" title="Reporting" class="md-nav__link">
      Reporting
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../Sample_questions/" title="Sample Questions" class="md-nav__link">
      Sample Questions
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../Semi-automatic_Marking/" title="Semi-automatic Marking" class="md-nav__link">
      Semi-automatic Marking
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../Tables/" title="Tables" class="md-nav__link">
      Tables
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../Testing/" title="Testing, debugging and quality control" class="md-nav__link">
      Testing, debugging and quality control
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../Units/" title="Scientific Units" class="md-nav__link">
      Scientific Units
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../Variables/" title="Defining variables" class="md-nav__link">
      Defining variables
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-1-4" type="checkbox" id="nav-1-4">
    
    <label class="md-nav__link" for="nav-1-4">
      CAS
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="CAS" data-md-level="2">
      <label class="md-nav__title" for="nav-1-4">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        CAS
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../../CAS/" title="Maxima and computer algebra use in STACK" class="md-nav__link">
      Maxima and computer algebra use in STACK
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../../CAS/Buggy_rules/" title="Buggy rules" class="md-nav__link">
      Buggy rules
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../../CAS/CAS/" title="Computer Algebra Systems" class="md-nav__link">
      Computer Algebra Systems
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../../CAS/Differential_equations/" title="Differential Equations" class="md-nav__link">
      Differential Equations
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../../CAS/Discrete_mathematics/" title="Discrete mathematics and graph theory." class="md-nav__link">
      Discrete mathematics and graph theory.
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../../CAS/Equations/" title="Asking students to solve equations" class="md-nav__link">
      Asking students to solve equations
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../../CAS/Equivalence_reasoning/" title="Reasoning by equivalence" class="md-nav__link">
      Reasoning by equivalence
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../../CAS/Greek/" title="The Greek Alphabet" class="md-nav__link">
      The Greek Alphabet
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../../CAS/Inequalities/" title="Inequalities" class="md-nav__link">
      Inequalities
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../../CAS/Linear_algebra/" title="Setting linear algebra questions in STACK" class="md-nav__link">
      Setting linear algebra questions in STACK
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../../CAS/Matrix/" title="Matrices and vectors in STACK" class="md-nav__link">
      Matrices and vectors in STACK
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../../CAS/Maxima/" title="Introduction to Maxima for STACK users" class="md-nav__link">
      Introduction to Maxima for STACK users
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../../CAS/Numbers/" title="Numbers in STACK" class="md-nav__link">
      Numbers in STACK
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../../CAS/Optimising_Maxima/" title="Optimising Maxima" class="md-nav__link">
      Optimising Maxima
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../../CAS/Permutations/" title="Writing a permutation as a product of disjoint cycles" class="md-nav__link">
      Writing a permutation as a product of disjoint cycles
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../../CAS/Plots/" title="Plots and graphics in STACK questions." class="md-nav__link">
      Plots and graphics in STACK questions.
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../../CAS/Predicate_functions/" title="Predicate functions" class="md-nav__link">
      Predicate functions
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../../CAS/Propositional_Logic/" title="Propositional Logic" class="md-nav__link">
      Propositional Logic
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../../CAS/Random/" title="Random objects" class="md-nav__link">
      Random objects
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../../CAS/Real_Intervals/" title="Real intervals and sets of real numbers" class="md-nav__link">
      Real intervals and sets of real numbers
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../../CAS/STACK-Maxima_sandbox/" title="STACK Sandbox" class="md-nav__link">
      STACK Sandbox
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../../CAS/Simplification/" title="Simplification & ordering" class="md-nav__link">
      Simplification & ordering
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../../CAS/Statistics/" title="Statistics support in STACK." class="md-nav__link">
      Statistics support in STACK.
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-1-5" type="checkbox" id="nav-1-5">
    
    <label class="md-nav__link" for="nav-1-5">
      Developer
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Developer" data-md-level="2">
      <label class="md-nav__title" for="nav-1-5">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Developer
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../../Developer/" title="Developers" class="md-nav__link">
      Developers
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../../Developer/CAS_evaluatable/" title="The family tree of cas_evaluatables." class="md-nav__link">
      The family tree of cas_evaluatables.
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../../Developer/Census/" title="Maxima identifier census" class="md-nav__link">
      Maxima identifier census
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../../Developer/Creating_an_input_type/" title="Creating a new Input type" class="md-nav__link">
      Creating a new Input type
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../../Developer/Development_history/" title="STACK Development History" class="md-nav__link">
      STACK Development History
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../../Developer/Development_track/" title="Development track for STACK" class="md-nav__link">
      Development track for STACK
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../../Developer/Documentation/" title="STACK User Documentation" class="md-nav__link">
      STACK User Documentation
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../../Developer/Future_input_processing/" title="Description of one possible future input processing pipeline" class="md-nav__link">
      Description of one possible future input processing pipeline
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../../Developer/Future_plans/" title="Future plans" class="md-nav__link">
      Future plans
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../../Developer/Language_packs/" title="Translation of the STACK Project" class="md-nav__link">
      Translation of the STACK Project
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../../Developer/Local_Usage/" title="Local Usage" class="md-nav__link">
      Local Usage
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../../Developer/Maxima_packages/" title="Adding support for Maxima packages" class="md-nav__link">
      Adding support for Maxima packages
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../../Developer/PHP-CAS/" title="PHP interface with the CAS" class="md-nav__link">
      PHP interface with the CAS
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../../Developer/Parser/" title="Building the parser" class="md-nav__link">
      Building the parser
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../../Developer/Question_state_caching/" title="Question state caching" class="md-nav__link">
      Question state caching
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../../Developer/Releasing/" title="STACK release process notes" class="md-nav__link">
      STACK release process notes
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../../Developer/Running_question_tests_other_site/" title="Running question tests for questions on other sites" class="md-nav__link">
      Running question tests for questions on other sites
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../../Developer/Security_map/" title="Security map" class="md-nav__link">
      Security map
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../../Developer/Syntax_Future/" title="Future plans for syntax of answers and STACK." class="md-nav__link">
      Future plans for syntax of answers and STACK.
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../../Developer/Unit_tests/" title="Unit tests" class="md-nav__link">
      Unit tests
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../../Developer/UpgradeDefaults/" title="Upgrading question defaults" class="md-nav__link">
      Upgrading question defaults
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../../Developer/Website/" title="Updating the Online Docs" class="md-nav__link">
      Updating the Online Docs
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-1-6" type="checkbox" id="nav-1-6">
    
    <label class="md-nav__link" for="nav-1-6">
      Installation
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Installation" data-md-level="2">
      <label class="md-nav__title" for="nav-1-6">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Installation
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../../Installation/" title="Installation instructions." class="md-nav__link">
      Installation instructions.
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../../Installation/LTI/" title="About LTI" class="md-nav__link">
      About LTI
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../../Installation/Mathjax/" title="Displaying mathematics for STACK in Moodle" class="md-nav__link">
      Displaying mathematics for STACK in Moodle
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../../Installation/Maxima/" title="Compiling Maxima from source." class="md-nav__link">
      Compiling Maxima from source.
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../../Installation/Testing_installation/" title="Testing Installation" class="md-nav__link">
      Testing Installation
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-1-7" type="checkbox" id="nav-1-7">
    
    <label class="md-nav__link" for="nav-1-7">
      Students
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Students" data-md-level="2">
      <label class="md-nav__title" for="nav-1-7">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Students
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../../Students/" title="Information for students" class="md-nav__link">
      Information for students
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../../Students/Accessibility/" title="Accessibility" class="md-nav__link">
      Accessibility
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../../Students/Answer_assessment/" title="Answer assessment" class="md-nav__link">
      Answer assessment
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../../Students/Answer_input/" title="Answer input" class="md-nav__link">
      Answer input
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../../Students/Equivalence_reasoning/" title="Reasoning by Equivalence" class="md-nav__link">
      Reasoning by Equivalence
    </a>
  </li>

        
          
          
          


<!--Skip first level in the navigation bar, i.e. the "En" level-->

  <li class="md-nav__item">
    <a href="../../Students/FAQ/" title="Frequently asked questions" class="md-nav__link">
      Frequently asked questions
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
<!--Keep the rest the same-->

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#model-answer" class="md-nav__link">
    Model answer
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#internals" class="md-nav__link">
    Internals
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extra-options" class="md-nav__link">
    Extra options
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#randomly-shuffling-the-options" class="md-nav__link">
    Randomly shuffling the options
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#constructing-mcq-arrays-in-maxima" class="md-nav__link">
    Constructing MCQ arrays in Maxima
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mcq-helper-functions" class="md-nav__link">
    MCQ helper functions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dealing-with-strings-in-mcq" class="md-nav__link">
    Dealing with strings in MCQ
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dealing-with-plots-in-mcq" class="md-nav__link">
    Dealing with plots in MCQ
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dealing-with-external-images-in-mcq" class="md-nav__link">
    Dealing with external images in MCQ
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#writing-question-tests" class="md-nav__link">
    Writing question tests
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="multiple-choice-questions">Multiple choice questions</h1>
<p>The whole point of STACK is not to use multiple-choice questions, but instead to have the student enter an algebraic expression!  That said there are occasions where it is very useful, if not necessary, to use multiple-choice questions in their various forms.  STACK's use of a CAS is then very helpful to generate random variants of multiple-choice questions based on the mathematical values.</p>
<p>This can also be one input in a multi-part randomly generated question. E.g. you might say "which method do you need to integrate <script type="math/tex"> \sin(x)\cos(x) </script>?" and give students the choice of (i) trig functions first, 
(ii) parts, (iii) substitution, (iv) replace with complex exponentials.  (Yes, this is a joke: all these methods can be made to work here!)  Another algebraic input can then be used for the answer.</p>
<p>Please read the section on <a href="../Inputs/">inputs</a> first.  If you are new to STACK please note that in STACK MCQs are <em>not</em> the place to start learning how to author questions.  Please look at the <a href="../Authoring_quick_start/">authoring quick-start guide</a>.</p>
<p>Multiple choice input types return a CAS object which is then assessed by the potential response tree.  For this reason, these inputs do not provide "feedback" fields for each possible answer, as does the Moodle multiple choice input type.</p>
<p>The goal of these input types is to provide <em>modest</em> facilities for MCQ.  An early design decision was to restrict each of the possible answers to be a CAS expression.  In particular, we decided <em>NOT</em> to make each possible answer <a href="../CASText/">CASText</a>.  Adopting CASText would have provided more flexibility but would have significantly increased the complexity of the internal code. If these features are extensively used we will consider a different input type.</p>
<h2 id="model-answer">Model answer</h2>
<p>This input type uses the "model answer" both to input the teacher's answer and the other options. 
In this respect, this input type is unique, and the "model answer" field does <em>not</em> contain just the teacher's model answer.  Constructing a correctly formed model answer is complex, and so this input type should be considered "advanced".  New users are advised to gain confidence writing questions with algebraic inputs first, and gain experience in using Maxima lists.</p>
<p>The "model answer" must be supplied in a particular form as a list of lists <code>[[value, correct(, display)], ... ]</code>.</p>
<ul>
<li><code>value</code> is the value of the teacher's answer.</li>
<li><code>correct</code> must be either <code>true</code> or <code>false</code>.  If it is not <code>true</code> then it will be considered to be <code>false</code>!</li>
<li>(optional) <code>display</code> is another CAS expression to be displayed in place of <code>value</code>.  This can be a string value here, but it will be passed through the CAS if you choose the LaTeX display option below.  <code>display</code> is only used in constructing the question.  STACK will take <code>value</code> as the student's answer internally, regardless of what is set here.</li>
</ul>
<p>For example</p>
<pre><code> ta:[[diff(p,x),true],[p,false],[int(p,x),false]]
</code></pre>
<p>At least one of the choices must be considered <code>correct</code>.  However, the <code>true</code> and <code>false</code> values are only used to construct the "teacher's correct answer".   You must still use a <a href="../Potential_response_trees/">potential response tree</a> to assess the student's answer as normal.</p>
<p>STACK provides some helper functions</p>
<ol>
<li><code>mcq_correct(ta)</code> takes the "model answer" list and returns a list of values for which <code>correct</code> is true.</li>
<li><code>mcq_incorrect(ta)</code> takes the "model answer" list and returns a list of values for which <code>correct</code> is false.</li>
</ol>
<p>Note, that the optional <code>display</code> field is <em>only</em> used when constructing the choices seen by the student when displaying the question.  The student's answer will be the <code>value</code>, and this value is normally displayed to the student using the validation feedback, i.e. "Your last answer was interpreted as...". A fundamental design principal of STACK is that the student's answer should be a mathematical expression, and this input type is no exception.  </p>
<p>In situations where there is a significant difference between the optional <code>display</code> and the <code>value</code> which would be confusing, the only current option is to turn off validation feedback.  After all, this should not be needed anyway with this input type.  In the example above when a student is asked to choose the right method the <code>value</code> could be an integer and the display is some kind of string.  </p>
<p>An example which includes the <code>display</code> option is</p>
<pre><code>tacp:[[A, false, "A. Direct proof"],  [B, false, "B. Definition-chasing"], [C, false, "C. If and only if"], [D, false, "D. Exhaustive cases"], [E, false, "E. Induction"], [F, false, "F. Contrapositive"], [G, true, "G. Contradiction"]];
</code></pre>
<p>Note in this example the <code>value</code> of the student's answer will be a letter which is literally a Maxima variable name.  In this situation you can't really randomize the letters used easily.  (Not impossible with some cunning code, but a lot of work....)</p>
<p>If you choose to use an integer, and randomly suffle the answers then the validation feedback would be confusing, since an integer (which might be shuffled) has no correspondence to the choices selected.  <em>This behaviour is a design decision and not a bug! It may change in the future if there is sufficient demand, but it requires a significant change in STACK's internals to have parallel "real answer" and "indicated answer". Such a change might have other unintended and confusing consequences.</em></p>
<p>Normally we don't permit duplicate values in the values of the teacher's answer.  If the input type receives duplicate values STACK will throw an error.  This probably arises from poor randomization.  However it may be needed.  If duplicate entries are permitted use the display option to create unique value keys with the same display. <em>This behaviour is a design decision may change in the future.</em></p>
<p>When STACK displays the "teacher's answer", e.g. after a quiz is due, this will be constructed from the <code>display</code> fields corresponding to those elements for which <code>correct</code> is <code>true</code>.  I.e. the "teacher's answer" will be a list of things which the student could actually select.  Whether the student is able to select more than one, or if more than one is actually included, is not checked.  The teacher must indicate at least one choice as <code>true</code>.  </p>
<p>If you need "none of these" you must include this as an explicit option, and not rely on the student not checking any boxes in the checkbox type.  Indeed, it would be impossible to distinguish the active selection of "none of these" from a passive failure to respond to the question.</p>
<p>If one of the responses is <script type="math/tex">x=1 \mbox{ or } x=2</script> then it is probably best to use <code>nounor</code> which is commutative and associative.  Do not use <code>or</code> which always simplifies its arguments.  In this example <code>x=1 or x=2</code> evaluates to <code>false</code>.</p>
<p>HTML dropdowns cannot display LaTeX within the options.  This is a restriction of HTML/MathJax (not of STACK).  You can use HTML-entities within a string field.  For example </p>
<pre><code>ta1:[[0,false,"n/a"],[1,true,"&amp;ge;"],[2,false,"&amp;le;"],[3,false,"="],[4,false,"?"]];
</code></pre>
<p>Note here that an integer will returned internally.</p>
<p>Similarly, you can include logical symbols.</p>
<pre><code>ta1:[[0, false, "&amp;#8658;"], [1, true, "&amp;#8656;"], [2, false, "&amp;#8660;"]];
</code></pre>
<p>This will give a choice, e.g. a dropdown, from &#8658;, &#8656; and &#8660; and an integer will returned internally.</p>
<pre><code>ta1:[[0, false, "&amp;#8704;"], [1, true, "&amp;#8707;"]];
</code></pre>
<p>This will give a choice, e.g. a dropdown, from &#8704; and &#8707;.</p>
<pre><code>ta1:[[0, true, "c &amp;#8712;"], [1, false, "c &amp;#8713;"]];
</code></pre>
<p>This will give a choice, e.g. a dropdown, from "c &#8712;" and "c &#8713;".</p>
<h2 id="internals">Internals</h2>
<p>The dropdown and radio inputs return the <code>value</code>, but the checkbox type returns the student's answer as Maxima list,
even if they have only chosen one option.</p>
<p>If, when authoring a question, you switch from radio/dropdown to checkboxes or back, you will probably break a PRT because of mismatched types.</p>
<p>For the select and radio types the first option on the list will always be "Not answered".<br />
This enables a student to retract an answer and return a "blank" response.</p>
<p>For the checkbox type there is a fundamental ambiguity between a blank response and actively not selecting any of the provided choices, 
which indicates "none of the others".<br />
Internally STACK has a number of "states" for a student's answer, including <code>BLANK</code>, <code>VALID</code>, <code>INVALID</code>, <code>SCORE</code> etc.<br />
A student who has not answered will be considered <code>BLANK</code>. 
This is not invalid, and potential response trees which rely on this input type will not activate.<br />
To enable a student to indicate "none of the others", the teacher must add this as an explicit option.<br />
Note, this will not return an empty list as the answer as might be expected: it will be the <code>value</code> of that selection and you 
could give this option the value of <code>null</code>, for example, which is a Maxima atom.<br />
For the radio and dropdown types STACK always adds a "not answered" option as the first option.<br />
This allows a student to retract their choice, otherwise they will be unable to "uncheck" a radio button, which will be stored, 
validated and possibly assessed (to their potential detriment).</p>
<p>We did not add support for a special internal "none of the others" because the teacher still needs to indicate whether 
this is the true or false answer to the question.  To support randomisation, this needs to be done as an option in the teacher's answer list.</p>
<h2 id="extra-options">Extra options</h2>
<p>These input types make use of the "Extra options" field of the input type to pass in options.  These options are not case sensitive.<br />
This must be a comma-separated list of values as follows, but currently the only option is to control the display of mathematical expressions.</p>
<p>The way the items are displayed can be controlled by the following options.</p>
<ul>
<li><code>LaTeX</code> The default option is to use LaTeX to display the options, using an inline maths environment <code>\(...\)</code>.  This is probably better for radio and checkboxes.  It sometimes works in dropdowns, but not always and we need to test this in a wider variety of browsers.</li>
<li><code>LaTeXdisplay</code> use LaTeX to display the options, using the display maths environment <code>\[...\]</code>.</li>
<li><code>LaTeXinline</code> use LaTeX to display the options, using the inline maths environment <code>\(...\)</code>.</li>
<li><code>LaTeXdisplaystyle</code> use LaTeX to display the options, using the inline maths environment and the displaystyle option <code>\(\displaystyle...\)</code>.</li>
<li><code>casstring</code> does not use the LaTeX value, but just prints the casstring value in <code>&lt;code&gt;...&lt;/code&gt;</code> tags.</li>
<li><code>nonotanswered</code> removes the ``Not answered'' option from radio and dropdown.  This is <em>not recommended</em> as it means a student has no opportunity to "uncheck" a radio button once selected.  They may wish not to answer, rather than save an incorrect answer.</li>
</ul>
<h2 id="randomly-shuffling-the-options">Randomly shuffling the options</h2>
<p>To randomly shuffle the options create the list in the question variables and use the Maxima command <code>random_permutation</code> in the question variables.</p>
<p>For example, the question variables might look like the following.</p>
<pre><code>/* Create a list of potential answers. */
p:sin(2*x);
ta:[[diff(p,x),true],[p,false],[int(p,x),false],[cos(2*x)+c,false]];
/* The actual correct answer.    */
tac:diff(p,x)
/* Randomly shuffle the list "ta". */
ta:random_permutation(ta);
/* Add in a "None of these" to the end of the list.  The Maxima value is the atom null. */
tao:[null, false, "None of these"];
ta:append(ta,[tao]);
</code></pre>
<p>These commands ensure (1) the substantive options are in a random order, and (2) that the <code>None of these</code> always comes at the end of the list. 
Note, the value for the <code>None of these</code> is the CAS atom <code>null</code>.<br />
In Maxima <code>null</code> has no special significance but it is a useful atom to use in this situation.</p>
<p>As the Question Note, you might like to consider just taking the first item from each list, for example:</p>
<pre><code>{@maplist(first,ta)@}.  The correct answer is {@tac@}.
</code></pre>
<p>This note stores both the correct answer and the order shown to the student without the clutter of the <code>true/false</code> values or the optional display strings.<br />
Remember, random variants of a question are considered to be the same if and only if the question note is the same,
so the random order must be part of the question note if you shuffle the options.</p>
<h2 id="constructing-mcq-arrays-in-maxima">Constructing MCQ arrays in Maxima</h2>
<p>It is not easy to construct MCQ arrays in Maxima.  This section contains some tips for creating them, using Maxima's <code>lambda</code> command.<br />
Below is an example of a correctly constructed teacher's answer.</p>
<pre><code>ta:[[x^2-1,true],[x^2+1,false],[(x-1)*(x+1),true],[(x-i)*(x+i),false]]
</code></pre>
<p>To create a list of correct answers you could use the function <code>mcq_correct(ta)</code>.  This essentially consists of the following code.</p>
<pre><code>maplist(first, sublist(ta, lambda([ex], second(ex))));
</code></pre>
<p>The function <code>sublist</code> "filters" out those entries of <code>ta</code> for which the second element of the list is true.<br />
We then "map" first onto these entries to pull out the value.<br />
It is relatively simple to modify this code to extract the incorrect entries, the displayed forms of the correct entries etc.</p>
<p>To go in the other direction, the first list <code>ta1</code> is considered "correct" and the second <code>ta2</code> is considered incorrect.</p>
<pre><code>ta1:[x^2-1,(x-1)*(x+1)];
ta1:maplist(lambda([ex],[ex, true]), ta1);
ta2:[x^2+1,(x-i)*(x+i)];
ta2:maplist(lambda([ex],[ex, false]), ta2);
ta:append(ta1,ta2);
/* If you want to shuffle the responses then use the next line. */
ta:random_permutation(ta);
</code></pre>
<p>Also, you can use STACK's <code>rand_selection(L, n)</code> to select <script type="math/tex">n</script> different elements from the list <script type="math/tex">L</script>.<br />
Say you have the following list of wrong answers and you want to take only 3 out of 5.</p>
<pre><code>ta2:[x^2,w^2,w^6,z^4,2*z^4];
ta2:rand_selection(ta2, 3);
/* Then, as before. */
ta2:maplist(lambda([ex],[ex, false]), ta2);
</code></pre>
<p>Another way to create an MCQ answer list is to have Maxima decide which of the answers are true.<br />
For example, in this question the student has to choose which of the answers are integers.</p>
<pre><code>L:[1,4/2,3.0,2.7,1/4,%pi,10028];
/* Map the appropriate predicate to the list to create the true/false list. */
A:maplist(integerp,L);
/* Note the use of zip_with together with the list constructing function "[". */
ta:zip_with("[",L,A);
/* If you want to shuffle the responses then use the next line. */
ta:random_permutation(ta);
</code></pre>
<h2 id="mcq-helper-functions">MCQ helper functions</h2>
<p>STACK has helper functions to create MCQ arrays in Maxima.</p>
<pre><code>[ta, variant] = multiselqn(corbase, numcor, wrongbase, numwrong)
</code></pre>
<p>This function takes two lists <code>corbase</code> and <code>wrongbase</code> and two integers <code>numcor</code> and <code>numwrong</code>.<br />
It randomly selects <code>numcor</code> from <code>corbase</code>, and <code>numwrong</code> from <code>wrongbase</code> and then creates the MCQ list <code>ta</code> with these selections, 
and an answernote <code>variant</code>.</p>
<p>The function returns a list with two arguments.<br />
The first argument of the list is the MCQ array, the second is just the list of answers which is useful for the answer note.<br />
Note, this function does use <code>random_permutation</code> internally to randomly order the random selections.</p>
<p>For example, the following generates random expressions for an MCQ calculus question.  Note the use of <code>ev(...)</code> later to evaluate the derivative.</p>
<pre><code>trg:rand([sin(p), cos(p)]);
dtrg:diff(trg, p);
wrongbase:[a*trg, 2*a*x*trg, -2*a*x*trg, ev(dtrg, p=2*a*x), 2*a*x*ev(dtrg, p=2*a*x)];
p:a*x^2+b;
wrongbase:ev(wrongbase); /* Now we have a value for p, the extra evaluation will use it. */
ans:diff(ev(trg), x);
multisel:multiselqn([ans], 1, wrongbase, 3);
ta:multisel[1];
variant:multisel[2];
</code></pre>
<p>In the above example there is only one correct answer, so we just select <code>1</code> from <code>[ans]</code>.
This is fine, and we then choose three randomly generated wrong answers.</p>
<p>This returns (for example) the values</p>
<pre><code>ta = [[-2*a*x*cos(a*x^2+b),false],[-sin(2*a*x),false],[a*cos(a*x^2+b),false],[-2*a*x*sin(a*x^2+b),true]];
variant = [-2*a*x*cos(a*x^2+b),-sin(2*a*x),a*cos(a*x^2+b),-2*a*x*sin(a*x^2+b)];
</code></pre>
<p>The following function does a similar job when we have MCQ display strings.</p>
<pre><code>[ta, variant] = multiselqndisplay(corbase, numcor, wrongbase, numwrong)
</code></pre>
<p>For example, here the return values could be</p>
<pre><code>ta = [[3,false,2*a*x*sin(a*x^2+b)],[2,false,a*sin(a*x^2+b)],[5,false,cos(2*a*x)],[1,true,2*a*x*cos(a*x^2+b)]]
variant = [3,2,5,1]
</code></pre>
<p>The function <code>multiselqndisplay</code> automatically assigns numbers <script type="math/tex">1,\cdots, k</script> to the <code>corbase</code> entries, and then <script type="math/tex">k+1,\cdots, n</script> to the <code>wrongbase</code> entries so that the numbers returned by the input type uniquely map to the entries in the two lists regardless of which random variant is generated.  These numbers are useful internally, but not for students.</p>
<p>The function <code>multiselqnalpha</code> automatically selects the appropriate number of correct and incorrect entries, permutes the list and then assigns strings <code>"(a)"</code>, <code>"(b)"</code>, <code>"(c)"</code> etc. in the correct order. The student's answer will thus be a list of strings (somewhat subverting the whole purpose of STACK in returning a genuine mathematical expression, but this has its place...).  </p>
<pre><code>[ta, variant] = multiselqnalpha(corbase, numcor, wrongbase, numwrong, [dispstyle])
</code></pre>
<p>For example, here the return values (with inline maths) could be</p>
<pre><code>ta = [["(a)",false,"&lt;b&gt;(a)&lt;/b&gt; \\(-2\\,a\\,x\\,\\sin \\left( a\\,x^2+b \\right)\\)"],["(b)",true,"&lt;b&gt;(b)&lt;/b&gt; \\(2\\,a\\,x\\,\\cos \\left( a\\,x^2+b \\right)\\)"],["(c)",false,"&lt;b&gt;(c)&lt;/b&gt; \\(\\cos \\left( 2\\,a\\,x \\right)\\)"],["(d)",false,"&lt;b&gt;(d)&lt;/b&gt; \\(2\\,a\\,x\\,\\cos \\left( 2\\,a\\,x \\right)\\)"]]
variant = [-2*a*x*sin(a*x^2+b),2*a*x*cos(a*x^2+b),cos(2*a*x),2*a*x*cos(2*a*x)]
</code></pre>
<p>Notes</p>
<ol>
<li>The fifth optional argument to <code>multiselqnalpha</code> controls the display style of the LaTeX.  Use <code>"i"</code> (a string containing <code>i</code>) for inline, <code>"d"</code> for displayed and <code>"id"</code> for inline "displaystyle" (which is the default).</li>
<li>Note that the "student's" answer will now be a <em>string</em> such as <code>"(a)"</code>.  When you construct the PRT you will not need to check against these strings, not the original CAS expressions.</li>
<li>The <code>variant</code> retains the CAS statements, in order.</li>
<li>Do not use <code>multiselqnalpha</code> in conjunction with the <code>shuffle</code> option.  There is no need as the selection are permuted, and it messes up the order of the choices for the student. </li>
</ol>
<h2 id="dealing-with-strings-in-mcq">Dealing with strings in MCQ</h2>
<p>A likely situation is that a teacher wants to include a language string as one of the options for a student's answer in a multiple-choice question.</p>
<p>Recall: <em>A fundamental design principal of STACK is that the student's answer should be a mathematical expression which can be
manipulated by the CAS as a valid expression.</em> Students are very limited in the keywords they are permitted to use in an input type.<br />
It is very likely that strings will contain keywords forbidden in student expressions.</p>
<p>One option to overcome this is to do something like this as one option in the teacher's response:</p>
<pre><code>[C, false, "(C) None of the other options"]
</code></pre>
<p>The optional display part of this input is displayed to the student.  Their answer is the (valid) CAS atom <code>C</code> which the PRT will deal with appropriately.</p>
<p>To construct appropriate arrays use the <code>multiselqnalpha</code> function.</p>
<p>The quotation marks will be removed from strings, and the strings will not be wrapped <code>&lt;code&gt;...&lt;/code&gt;</code> tags or LaTeX mathematics environments.</p>
<p>Question authors should consider using the Moodle MCQ question type in addition to these facilities for purely text-based answers.</p>
<p>You must protect characters within strings.  E.g. in</p>
<pre><code>[A, true, "A. There exists \\(M\\) such that \\( |a_n| &amp;lt; M \\)."]
</code></pre>
<p>We have protected the backslash, and the inequality.</p>
<p>The language strings are not CAStext, they are simply raw strings.  It is possible to construct strings which inlcude variable values using the <code>stack_disp</code> function.</p>
<pre><code>[oc(-inf,a), false, sconcat("The half interval: ", stack_disp(oc(-inf,a),"i"))]
</code></pre>
<p>The argument <code>"i"</code> here displays the expression "inline", other options are <code>""</code> (you are responsible for maths environments), <code>"d"</code> (displayed), and <code>"di"</code> (inline but using displaystyle).  If you construct strings in this way the display of any equations will not respect the display options in the particular input since variables are typically defined in the question variables and the input options are not available at that point in the code base.</p>
<h2 id="dealing-with-plots-in-mcq">Dealing with plots in MCQ</h2>
<p>It is possible to use plots as the options in a STACK MCQ.  </p>
<p>Recall again the MCQ are limited to legitimate CAS objects.<br />
The <code>plot</code> command returns a string which is the URL of the dynamically generated image on the server.<br />
The "value" of this can't be assessed by the potential response trees.<br />
For this reason you must use the display option with plots and must only put the plot command in the display option. (Otherwise STACK will throw an error: this behaviour could be improved).<br />
For example, to create a correct answer consisting of three plots consider the following in the question variables.</p>
<pre><code>p1:plot(x,[x,-2,2],[y,-3,3])
p2:plot(x^2,[x,-2,2],[y,-3,3])
p3:plot(x^3,[x,-2,2],[y,-3,3])
ta:[[1,true,p1],[2,false,p2],[3,false,p3]]
</code></pre>
<p>The actual CAS value of the answer returned will be the respective integer selected (radio or dropdown) or list of integers (checkbox).<br />
The PRT can then be used to check the value of the integer (or list) as normal.  </p>
<p>For this reason you will probably want to switch off the validation feedback ``your last answer was...".  </p>
<p>Using a PRT is slight overkill, but it maintains the consistent internal design.</p>
<h2 id="dealing-with-external-images-in-mcq">Dealing with external images in MCQ</h2>
<p>It is also possible to embed the URL of an externally hosted image as the "display" field of an MCQ.<br />
The string is not checked, and is also passed through the CAS.<br />
This feature is fragile to being rejected as an invalid CAS object, and so is not recommended.  (This could also be improved...)</p>
<p>For example, the question variables could be something like</p>
<pre><code>i1:"&lt;img src='http://www.maths.ed.ac.uk/~csangwin/Pics/z1.jpg' /&gt;"
i2:"&lt;img src='http://www.maths.ed.ac.uk/~csangwin/Pics/z2.jpg' /&gt;"
i3:"&lt;img src='http://www.maths.ed.ac.uk/~csangwin/Pics/z3.jpg' /&gt;"
ta:[[1,true,i1],[2,false,i2],[3,false,i3]]
</code></pre>
<h2 id="writing-question-tests">Writing question tests</h2>
<p>Quality control of questions is important.  See the notes on <a href="../Testing/">testing</a> questions.  </p>
<p>When entering test cases the question author must type in the CAS expression they expect to be the <code>value</code> of the student's answer (NOT the optional <code>display</code> field!).  For example, if the teacher's answer (to a checkbox) question is the following.</p>
<pre><code> ta:[[x^2-1,true],[x^2+1,false],[(x-1)*(x+1),true],[(x-i)*(x+i),false]]
</code></pre>
<p>Then the following test case contains all the "true" answers.</p>
<pre><code> [x^2-1,(x-1)*(x+1)]
</code></pre>
<p>There is currently minimal checking that the string entered by the teacher corresponds to a valid choice in the input type.  If your test case returns a blank result this is probably the problem.     </p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
<footer class="md-footer">
<div class ="md-main__inner md-grid">
<!--Copy of primary sidebar, which collapses-->
<div class="md-sidebar md-sidebar--primary_footer">

</div>
<!--Copy of secondary sidebar, which collapses-->
<div class ="md-sidebar md-sidebar--secondary">
</div>

<!--Footer-->
<div class="md-content">
<div class="md-content__inner md-typeset">
    <div class="row">
		<div class="footerColumn"><a href="https://www.stack-assessment.org"><img src="../../../content/logo_large.png" width="70px" style="margin-top:1.3em;float:left;"><h2 style="color:white;margin-top:1.1em!important;"><b>STACK</b></h2></a></div>
		<div class="footerColumn"><a href="https://www.stack-assessment.org/About/"><h5 style="color:white;">About STACK</h5></a><a href="https://www.stack-assessment.org/Training_and_events/"><h5 style="color:white;">Training and Events</h5></a><a href="https://www.stack-assessment.org/Case_studies/"><h5 style="color:white;">Case Studies</h5></a><a href="https://stack-demo.maths.ed.ac.uk/demo/"><h5 style="color:white;">Demonstration site</h5><a></div>
		<div class="footerColumn"><a href="https://www.stack-assessment.org/Legal/PrivacyStatement/"><h5 style="color:white;">Privacy statement</h5></a><a href="https://www.stack-assessment.org/Legal/Licenses/"><h5 style="color:white;">Licenses</h5></a><a href="https://www.stack-assessment.org/Legal/Accessibility/"><h5 style="color:white;">Accessibility</h5></a></div>
	</div>
</div>
</div>

</div></footer>

    </div>
    
      <script src="../../../assets/javascripts/vendor.7e0ee788.min.js"></script>
      <script src="../../../assets/javascripts/bundle.b3a72adc.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
  <script>
    var search = {
      transform: function(query) {
        return query
      }
    }
  </script>

      <script>
        app = initialize({
          base: "../../..",
          features: [],
          search: Object.assign({
            worker: "../../../assets/javascripts/worker/search.4ac00218.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      
    
  </body>
</html>